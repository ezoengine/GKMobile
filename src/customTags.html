<gk:element name='Page'>
  <gk:view>
    <div id='${id}' data-role='page'>${content}</div>
  </gk:view>
</gk:element>




<gk:element name='Header'>
  <gk:view use='Header'>
    <div id='${id}' data-gk-click='${onclick}' data-position='fixed' data-theme='a' data-role='header' style='font-size:16px;text-align:center;'>
    	<div style='margin:10px 0 10px 0'>${label}</div>${content}
	</div>
  </gk:view>
  <gk:component>
    Header.prototype.label = function(lab) {
      if(lab) {
		var ele = this.ele.find('div')[0];
		ele.innerHTML = lab;
		return this.ele;
	  } else {
	  	return this.ele.children(1).html();
      }
    };
  </gk:component>
</gk:element>





<gk:element name='Content'>
  <gk:view>
    <div id='${id}' style='padding:15px' data-role='content'>${content}</div>
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='Footer'>
  <gk:view>
<div id='${id}' data-position='fixed' data-theme='a' data-role='footer'  style='font-size:16px;text-align:center;'>${content}</div>
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='ListForm'>
  <gk:view>
<li data-corners='false' data-shadow='false' data-iconshadow='true' data-wrapperels='div' data-icon='arrow-r' data-iconpos='right' data-theme='d' class='ui-btn ui-btn-icon-right ui-li-has-arrow ui-li ui-btn-up-d'>
<div href='${href}' class='ui-link-inherit'>
<h3 class='ui-li-heading'>${heading}</h3>${content}</div>
</li>
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='ListView'>
  <gk:view use='ListView'>
<style>
.ui-li-desc {font-size:16px}
.ui-li {font-size:18px}
</style>
<ul id='${id}' data-gk-click='${onclick}' data-role='listview' data-inset='${inset}' data-divider-theme='d' class='ui-listview'>
${content}
</ul>
  </gk:view>
  <gk:component>
    ListView.prototype.data = [];
    ListView.prototype.info = function (infoArray) {
        if(infoArray) {
            this.data = infoArray;
            var listItem = _super.prototype.infoArray.call(this, infoArray);
            $('#' + this.id).html(listItem);
            try  {
                var el = $('#' + this.id);
                el.listview('refresh');
            } catch (e) {
            }
        } else {
            return this.data;
        }
    };
    ListView.prototype.add = function (obj) {
        this.data.push(obj);
        this.info(this.data);
        return this;
    };
    ListView.prototype.remove = function (removeObj) {
        var removeJSONObj = JSON.stringify(removeObj);
        this.info($.grep(this.data, function (obj) {
            return removeJSONObj == JSON.stringify(obj);
        }, true));
        return this;
    };
  </gk:component>
</gk:element>




<gk:element name='SelectBar'>
  <gk:view use='SelectBar'>
  <div data-role='navbar' data-grid='d' class='ui-navbar ui-mini' role='navigation'>
    <ul id='${id}' class='ui-grid-d' data-gk-click='${onclick}'>
            ${content}
    </ul>
  </div>
  </gk:view>
  <gk:component>
        this.date = 'none';
  </gk:component>
</gk:element>




<gk:element name='Text'>
  <gk:view use='Text'>
  <label for='name'>${label}</label>
  <input id='${id}' type='text' name='${name}' value='${value}'/>
  </gk:view>
  <gk:component>
    Text.prototype.init = function(){
      if(this.ele.attr('value')==='${value}'){
	this.ele.removeAttr('value');
      }
    };
    Text.prototype.value = function (v) {
        if(v) {
            return $(this.ele).val(v);
        } else {
            return $(this.ele).val();
        }
    };
  </gk:component>
</gk:element>




<gk:element name='Date'>
  <gk:view use='Date'>
    <label for='${name}'>${label}</label>
    <input id='${id}' name='${name}' type='date' 
	data-role='datebox' data-options="{'mode': 'calbox'}"
	value='${value}' data-gk-blur='${onblur}' />
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='Password'>
  <gk:view>
    <label for='password'>${label}</label>
    <input id='${id}' type='password' name='${name}' value='${value}' />
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='TextArea'>
  <gk:view>
<div data-role='fieldcontain'>
<label for='textarea'>${label}</label>
<textarea cols='40' rows='8' name='${name}' id='${id}'></textarea>
</div>     
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='Row'>
  <gk:view use='Row'>
    <div id='${id}' class='ui-grid-a' columns='${columns}'>
    ${content}</div>
  </gk:view>
  <gk:component>
    Row.prototype.init = function (v) {
      this.colNum = ['ui-grid-a', 'ui-grid-b', 'ui-grid-c', 'ui-grid-d'];
      var n = parseInt(this.ele.attr('columns')) - 2;
      $(this.ele).attr('class', this.colNum[n]);
    };
  </gk:component>
</gk:element>




<gk:element name='Column'>
  <gk:view use='Column'>
    <div id='${id}' idx='${idx}'>
      ${content}
    </div>
  </gk:view>
  <gk:component>
    Column.prototype.init = function(){
        this.colNum = [
            'ui-block-a', 
            'ui-block-b', 
            'ui-block-c', 
            'ui-block-d', 
            'ui-block-e'
        ];
        var n = parseInt(this.ele.attr('idx')) - 1;
        $(this.ele).attr('class', this.colNum[n]);
    };
  </gk:component>
</gk:element>




<gk:element name='Btn'>
  <gk:view use='Btn'>
	<a id='${id}' href='#' type='button' value='${value}' data-inline='${inline}' data-gk-click='${onclick}' data-icon='${icon}'>${label}</a>
  </gk:view>
  <gk:component>
    Btn.prototype.init = function(){
        var pos = this.ele.attr('_iconpos');
        this.ele.attr('data-iconpos', pos);
    };
    Btn.prototype.enable = function (b) {
        this.ele.button(b ? 'enable' : 'disable');
    };
    Btn.prototype.refresh = function () {
        this.ele.button('refresh');
    };
    Btn.prototype.label = function (val) {
        if(val) {
            $($('#' + this.id + '    span span')[0]).html(val);
        } else {
            return $($('#' + this.id + ' span span')[0]).html();
        }
    };
    Btn.prototype.visible = function (b) {
        if(arguments.length < 0) {
            b ? this.ele.parent().show() : this.ele.parent().hide();
        } else {
            return this.ele.parent().is(':visible');
        }
    };
  </gk:component>
</gk:element>




<gk:element name='BackBtn'>
  <gk:view use='BackBtn'>
<a data-icon='back' data-rel='back' href='#home' class='ui-btn-${pos}'>${label}</a>
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='NavBar'>
  <gk:view>
<div id='${id}' data-role='navbar' data-iconpos='top'>
<ul>${content}</ul>
</div>
  </gk:view>
  <gk:component></gk:component>
</gk:element>




<gk:element name='NavBtn'>
  <gk:view use='NavBtn'>
<li>
<a id='${id}' href='${href}' data-transition='none' data-theme='' data-gk-click='${onclick}' data-icon='${icon}' class='${state}'>${label}</a>
</li>
  </gk:view>
  <gk:component>
    NavBtn.prototype.init = function(){
      this.replaceAttr('class', 'on', 'ui-btn-active ui-state-persist');
    };
  </gk:component>
</gk:element>




<gk:element name='Icon'>
  <gk:view use='Icon'>
    <span class="ui-li-count ui-btn-corner-all" 
    style="display:none;z-index:1;position:relative;float:right;background:#ed1d24;color:#fff;padding:2px;"></span>
    <a id='${id}' file='${src}' data-gk-click='${onclick}' 
      data-role='button' data-mini="true" style='margin:5px;'>
      <img style='width:48px;height:48px;position:relative;left:5px'>
    </a><div style='text-align:center'>${content}</div>
  </gk:view>
  <gk:component>
    Icon.prototype._count = 0;
    Icon.prototype.init = function(){
        var file = this.ele.attr('file');
        $($(this.ele).children()[0]).attr('src', file);
    };
    Icon.prototype.count = function(i){
    if(i){
      this.ele.prev().css('display',i==0? 'none':'');
      this._count = i;
      this.ele.prev().html(''+i);
    }else { return this._count;};
    };
  </gk:component>
</gk:element>